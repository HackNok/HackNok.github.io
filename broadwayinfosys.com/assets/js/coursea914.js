$(document).ready(function(){jQuery(function(){initMobileNav();});function initMobileNav(){jQuery('body').mobileNav({hideOnClickOutside:true,menuActiveClass:'search-active',menuOpener:'.search-opener',menuDrop:'.form-detail-mobile .form-group'});};(function($){function MobileNav(options){this.options=$.extend({container:null,hideOnClickOutside:false,menuActiveClass:'nav-active',menuOpener:'.nav-opener',menuDrop:'.nav-drop',toggleEvent:'click',outsideClickEvent:'click touchstart pointerdown MSPointerDown'},options);this.initStructure();this.attachEvents();}
MobileNav.prototype={initStructure:function(){this.page=$('html');this.container=$(this.options.container);this.opener=this.container.find(this.options.menuOpener);this.drop=this.container.find(this.options.menuDrop);},attachEvents:function(){var self=this;if(activateResizeHandler){activateResizeHandler();activateResizeHandler=null;}
this.outsideClickHandler=function(e){if(self.isOpened()){var target=$(e.target);if(!target.closest(self.opener).length&&!target.closest(self.drop).length){self.hide();}}};this.openerClickHandler=function(e){e.preventDefault();self.toggle();};this.opener.on(this.options.toggleEvent,this.openerClickHandler);},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass);},show:function(){this.container.addClass(this.options.menuActiveClass);if(this.options.hideOnClickOutside){this.page.on(this.options.outsideClickEvent,this.outsideClickHandler);}},hide:function(){this.container.removeClass(this.options.menuActiveClass);if(this.options.hideOnClickOutside){this.page.off(this.options.outsideClickEvent,this.outsideClickHandler);}},toggle:function(){if(this.isOpened()){this.hide();}else{this.show();}},destroy:function(){this.container.removeClass(this.options.menuActiveClass);this.opener.off(this.options.toggleEvent,this.clickHandler);this.page.off(this.options.outsideClickEvent,this.outsideClickHandler);}};var activateResizeHandler=function(){var win=$(window),doc=$('html'),resizeClass='resize-active',flag,timer;var removeClassHandler=function(){flag=false;doc.removeClass(resizeClass);};var resizeHandler=function(){if(!flag){flag=true;doc.addClass(resizeClass);}
clearTimeout(timer);timer=setTimeout(removeClassHandler,500);};win.on('resize orientationchange',resizeHandler);};$.fn.mobileNav=function(options){return this.each(function(){var params=$.extend({},options,{container:this}),instance=new MobileNav(params);$.data(this,'MobileNav',instance);});};}(jQuery));$(function(){$('form').each(function(){$(this).find('input[name="search"]').keypress(function(e){if(e.which==10||e.which==13){this.form.submit();}});});$("#mobile").mask("(999) 999-9999");$(".mobileNum").intlTelInput({allowDropdown:true,formatOnDisplay:true,autoPlaceholder:true,customPlaceholder:function(selectedCountryPlaceholder,selectedCountryData){return "e.g. "+'9851117578';},preferredCountries:['np'],separateDialCode:true,utilsScript:utilsScript});$('.open-course-popup-link, .open-class-schedule-popup-link').magnificPopup({type:'inline',closeOnBgClick:false,midClick:true});$('.class-schedule-list').find('.checkbox').change(function(){var class_schedule_list_ul=$('#selected-class-schedule-wrapper').find('ul');class_schedule_list_ul.html('');var class_schedule_list_li_html='';$('.class-schedule-list').each(function(i,e){var checbox_input=$(this).find('.checkbox');if(checbox_input.is(':checked')){class_schedule_list_li_html=class_schedule_list_li_html+'<li>'+$(this).attr('data-class-schedule-name');}});class_schedule_list_ul.html(class_schedule_list_li_html);});var processing=false;$('body').on('keyup','#course_popup_filter_inp',function(){var search_txt=$(this).val().toLowerCase();if(!processing){processing=true;$('.course-list').each(function(i,e){var match_with=$(e).attr('data-course-name').toLowerCase();if(match_with.indexOf(search_txt)>=0){$(e).show();}else{$(e).hide();}});processing=false;}});$('.course-list').find('.checkbox').change(function(){$('#course-popup').addClass('course-popup-channged');var name_list_ul=$('#selected-course-wrapper').find('ul');name_list_ul.html('');var li_html='';$('.course-list').each(function(i,e){var checbox_input=$(this).find('.checkbox');if(checbox_input.is(':checked')){li_html=li_html+'<li>'+$(this).attr('data-course-name');}});name_list_ul.html(li_html);});var form='enquiry-form';var form_submit_btn='enquiry-submit-btn';function validate(event){event.preventDefault();if($('#'+form).valid()){$('#'+form_submit_btn).prop('disabled',true).html('<i class="fa fa-spinner fa-spin"></i> Submitting Data');$('#'+form).submit();}}
function onload(){var element=document.getElementById(form_submit_btn);element.onclick=validate;}
onload();$('#enquiry-form').validate({ignore:".ignore",errorPlacement:function(error,element){element.closest('div.form-group').addClass('has-error');if(element.attr("name")==courseInputName){element.closest('div.form-group').addClass('category-error');error.insertAfter(element.closest('div.form-group').find('#course-popup'));}
else
error.insertAfter(element);},invalidHandler:function(e,validator){var errors=validator.numberOfInvalids();if(errors){if(validator.errorList.length>0){for(x=0;x<validator.errorList.length;x++){var element=$(validator.errorList[x].element);if(element.attr("name")==courseInputName){}}}}
validator.focusInvalid();},});$('.course-select-checkbox').change(function(){if($(this).is(':checked')){$('.category-error').removeClass('has-error');$('.category-error').find('.error').remove();}});$('.course-objective').readmore({moreLink:'<button type="button" class="btn btn-moreLess"><i class="fa fa-hand-o-down"></i> See More</button>',lessLink:'<button type="button" class="btn btn-moreLess normal"><i class="fa fa-hand-o-up"></i> See Less</button>',collapsedHeight:190,afterToggle:function(trigger,element,expanded){if(!expanded){$('html, body').animate({scrollTop:element.offset().top},{duration:600});}}});$('.fancybox').fancybox({padding:0,maxWidth:'100%',maxHeight:'100%',width:560,height:315,autoSize:true,closeClick:true,openEffect:'elastic',closeEffect:'elastic',});$('.show-all').click(function(){$('.panel-collapse').each(function(){$(this).collapse('show');});$(this).hide();$('.collapse-all').show();});$('.collapse-all').click(function(){$('.panel-collapse').each(function(){$(this).collapse('hide');});$(this).hide();$('.show-all').show();});$(".content-main .content-heading .abs-tr a").on('click',function(event){if(this.hash!==""){event.preventDefault();var hash=this.hash;$('html, body').animate({scrollTop:$(hash).offset().top},800,function(){window.location.hash=hash;});}});$(".content-heading .abs-tr a,.link-scroll").on('click',function(event){if(this.hash!==""){event.preventDefault();var hash=this.hash;$('html, body').animate({scrollTop:$(hash).offset().top-160},800,function(){window.location.hash=hash;});}});});});function resetError($this){if($this.valid()==true){if($this.attr('name')=='captcha'){$this.closest('div.form-group').find('.validation-notification').remove();}
$this.closest('div.form-group').removeClass('has-error');}}